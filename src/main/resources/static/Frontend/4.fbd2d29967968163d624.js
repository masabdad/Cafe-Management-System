(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"76PZ":function(t,e,a){"use strict";a.r(e),a.d(e,"MaterialComponentsModule",function(){return fr});var r=a("tyNb"),o=a("tk/3"),n=a("ofXK"),i=a("f6nW"),c=a("3Pt+"),s=a("YUcS"),l=a("0IaG"),b=a("+0xr"),d=a("5+ba"),m=a("fXoL"),u=a("AytR");let p=(()=>{class t{constructor(t){this.httpClient=t,this.url=u.a.apiUrl}add(t){return this.httpClient.post(this.url+"/category/add",t,{headers:(new o.e).set("Content-Type","application/json")})}update(t){return this.httpClient.post(this.url+"/category/update",t,{headers:(new o.e).set("Content-Type","application/json")})}getCategorys(){return this.httpClient.get(this.url+"/category/get")}delete(t){return this.httpClient.post(`${this.url}/category/delete/${t}`,null,{headers:(new o.e).set("Content-Type","application/json")})}getFilteredCategorys(){return this.httpClient.get(this.url+"/category/get?filtervale=true")}}return t.\u0275fac=function(e){return new(e||t)(m.Zb(o.b))},t.\u0275prov=m.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=a("p20J"),f=a("/t3+"),g=a("XiUz"),v=a("bTqV"),D=a("NFeN"),U=a("kmnG"),y=a("qFsG");function V(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Mandatory."),m.Ub())}function S(t,e){if(1&t&&(m.Vb(0,"mat-error"),m.Bc(1,V,2,0,"span",10),m.Ub()),2&t){const t=m.hc();m.Db(1),m.nc("ngIf",t.categoryForm.controls.name.errors.required)}}let C=(()=>{class t{constructor(t,e,a,r,o){this.dialogData=t,this.formBuilder=e,this.categoryService=a,this.dialogRef=r,this.snackbarservice=o,this.onAddCategory=new m.o,this.onEditCategory=new m.o,this.onDeleteCategory=new m.o,this.categoryForm=c.h,this.dialogAction="Add",this.action="Add"}ngOnInit(){this.categoryForm=this.formBuilder.group({name:[null,[c.s.required]]}),"Edit"===this.dialogData.action&&(this.dialogData.action="Edit",this.action="Update",this.categoryForm.patchValue(this.dialogData.data))}handleSubmit(){"Edit"===this.dialogAction?this.edit():this.add()}add(){this.categoryService.add({name:this.categoryForm.value.name}).subscribe(t=>{this.dialogRef.close(),this.onAddCategory.emit(),this.responseMessage=t.message,this.snackbarservice.openSnackBar(this.responseMessage,"success")},t=>{var e,a;this.dialogRef.close(),console.error(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:d.a.genericError,this.snackbarservice.openSnackBar(this.responseMessage,d.a.error)})}edit(){this.categoryService.update({id:this.dialogData.data.id,name:this.categoryForm.value.name}).subscribe(t=>{this.dialogRef.close(),this.onEditCategory.emit(),this.responseMessage=t.message,this.snackbarservice.openSnackBar(this.responseMessage,"success")},t=>{var e,a;this.dialogRef.close(),console.error(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:d.a.genericError,this.snackbarservice.openSnackBar(this.responseMessage,d.a.error)})}delete(t){this.categoryService.delete(t).subscribe(t=>{this.dialogRef.close(),this.onDeleteCategory.emit("deleted"),this.responseMessage=t.message,this.snackbarservice.openSnackBar(this.responseMessage,"success")},t=>{var e,a;this.dialogRef.close(),console.error(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:d.a.genericError,this.snackbarservice.openSnackBar(this.responseMessage,d.a.error)})}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(l.a),m.Pb(c.e),m.Pb(p),m.Pb(l.h),m.Pb(h.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-category"]],decls:26,vars:5,consts:[["color","primary"],["fxLayout","row"],[1,"spacer"],["mat-icon-button","","mat-dialog-close","",1,"mat-dialog-close"],[1,"mat-typography"],[3,"formGroup"],["fxFlex","","fxLayout","column"],["fxLayout","row wrap"],["appearance","standard","fxFlex",""],["matInput","","formControlName","name","required",""],[4,"ngIf"],["align","end"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],["mat-raised-button","","color","warn","mat-dialog-close",""]],template:function(t,e){1&t&&(m.Vb(0,"mat-toolbar",0),m.Vb(1,"mat-toolbar-row",1),m.Vb(2,"span"),m.Dc(3),m.Ub(),m.Qb(4,"span",2),m.Vb(5,"button",3),m.Vb(6,"mat-icon"),m.Dc(7,"close"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(8,"mat-dialog-content",4),m.Vb(9,"form",5),m.Vb(10,"div",6),m.Vb(11,"div",7),m.Vb(12,"mat-form-field",8),m.Vb(13,"mat-label"),m.Dc(14,"Name"),m.Ub(),m.Qb(15,"input",9),m.Bc(16,S,2,1,"mat-error",10),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(17,"mat-dialog-actions",11),m.Vb(18,"button",12),m.dc("click",function(){return e.handleSubmit()}),m.Vb(19,"mat-icon"),m.Dc(20,"save"),m.Ub(),m.Dc(21),m.Ub(),m.Vb(22,"button",13),m.Vb(23,"mat-icon"),m.Dc(24,"cancel "),m.Ub(),m.Dc(25,"Close"),m.Ub(),m.Ub()),2&t&&(m.Db(3),m.Fc("",e.dialogData.action," Category"),m.Db(6),m.nc("formGroup",e.categoryForm),m.Db(7),m.nc("ngIf",e.categoryForm.controls.name.touched&&e.categoryForm.controls.name.invalid),m.Db(2),m.nc("disabled",!(e.categoryForm.valid&&e.categoryForm.dirty)),m.Db(3),m.Fc(" ",e.action," "))},directives:[f.a,f.c,g.b,v.a,l.d,D.a,l.f,c.t,c.o,c.i,g.a,U.c,U.g,y.b,c.c,c.n,c.g,c.r,n.l,l.c,U.b],styles:[".mat-toolbar[_ngcontent-%COMP%]{margin:-24px -24px 10px;width:auto}"]}),t})();var w=a("gren"),B=a("mReP"),k=a("Wp6s"),F=a("Qu3c");function I(t,e){if(1&t){const t=m.Wb();m.Vb(0,"button",13),m.dc("click",function(){return m.vc(t),m.hc().handleAddAction()}),m.Vb(1,"mat-icon"),m.Dc(2,"add_circle"),m.Ub(),m.Dc(3," Add Category "),m.Ub()}}function M(t,e){1&t&&(m.Vb(0,"th",14),m.Dc(1,"Name"),m.Ub())}function R(t,e){if(1&t&&(m.Vb(0,"td",15),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.name)}}function P(t,e){1&t&&(m.Vb(0,"th",14),m.Dc(1,"Action"),m.Ub())}function x(t,e){if(1&t){const t=m.Wb();m.Vb(0,"button",18),m.dc("click",function(){m.vc(t);const e=m.hc().$implicit;return m.hc().handleDeleteAction(e.id)}),m.Vb(1,"mat-icon"),m.Dc(2,"delete"),m.Ub(),m.Ub()}}function T(t,e){if(1&t&&(m.Vb(0,"td",16),m.Bc(1,x,3,0,"button",17),m.Ub()),2&t){const t=m.hc();m.Db(1),m.nc("ngIf","user"!==t.userRole)}}function O(t,e){1&t&&m.Qb(0,"tr",19)}function A(t,e){1&t&&m.Qb(0,"tr",20)}let E=(()=>{class t{constructor(t,e,a,r,o,n){this.categoryService=t,this.ngxService=e,this.dialog=a,this.snackbarService=r,this.routeGuardService=o,this.router=n,this.displayedColumns=["name","edit"]}ngOnInit(){this.ngxService.start(),this.userRole=this.routeGuardService.getUserRole(),this.tableData()}tableData(){this.categoryService.getCategorys().subscribe(t=>{this.ngxService.stop(),this.dataSource=new b.k(t)},t=>{var e,a,r;this.ngxService.stop(),console.log(null===(e=t.error)||void 0===e?void 0:e.message),this.responseMessage=(null===(a=t.error)||void 0===a?void 0:a.message)?null===(r=t.error)||void 0===r?void 0:r.message:d.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,d.a.error)})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}handleAddAction(){const t=new l.e;t.data={action:"Add"},t.width="850px";const e=this.dialog.open(C,t);this.router.events.subscribe(()=>{e.close()}),e.componentInstance.onAddCategory.subscribe(t=>{this.tableData()})}handleEditAction(t){const e=new l.e;e.data={action:"Edit",data:t},e.width="850px";const a=this.dialog.open(C,e);this.router.events.subscribe(()=>{a.close()}),a.componentInstance.onAddCategory.subscribe(t=>{this.tableData()})}handleDeleteAction(t){confirm("Are you sure you want to delete this category?")&&this.categoryService.delete(t).subscribe(t=>{this.snackbarService.openSnackBar(t.message,"success"),this.tableData()},t=>{var e;console.error(t),(null===(e=t.error)||void 0===e?void 0:e.message)?this.snackbarService.openSnackBar(t.error.message,d.a.error):this.snackbarService.openSnackBar(d.a.genericError,d.a.error)})}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(p),m.Pb(w.b),m.Pb(l.b),m.Pb(h.a),m.Pb(B.a),m.Pb(r.e))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-manage-category"]],decls:23,vars:5,consts:[["mat-flat-button","","color","primary","class","float-right",3,"click",4,"ngIf"],["appearance","standard"],["matInput","",3,"keyup"],["input",""],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","edit"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-flat-button","","color","primary",1,"float-right",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-icon-button","","color","warn","matTooltip","Delete",3,"click",4,"ngIf"],["mat-icon-button","","color","warn","matTooltip","Delete",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(m.Vb(0,"mat-card"),m.Vb(1,"b"),m.Vb(2,"span"),m.Dc(3,"Manage Category"),m.Ub(),m.Ub(),m.Bc(4,I,4,0,"button",0),m.Ub(),m.Qb(5,"hr"),m.Vb(6,"mat-card"),m.Vb(7,"mat-form-field",1),m.Vb(8,"mat-label"),m.Dc(9,"Filter"),m.Ub(),m.Vb(10,"input",2,3),m.dc("keyup",function(t){return e.applyFilter(t)}),m.Ub(),m.Ub(),m.Ub(),m.Qb(12,"hr"),m.Vb(13,"div",4),m.Vb(14,"table",5),m.Tb(15,6),m.Bc(16,M,2,0,"th",7),m.Bc(17,R,2,1,"td",8),m.Sb(),m.Tb(18,9),m.Bc(19,P,2,0,"th",7),m.Bc(20,T,2,1,"td",10),m.Sb(),m.Bc(21,O,1,0,"tr",11),m.Bc(22,A,1,0,"tr",12),m.Ub(),m.Ub()),2&t&&(m.Db(4),m.nc("ngIf","user"!==e.userRole),m.Db(10),m.nc("dataSource",e.dataSource),m.Db(7),m.nc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),m.Db(1),m.nc("matRowDefColumns",e.displayedColumns))},directives:[k.a,n.l,U.c,U.g,y.b,b.j,b.c,b.e,b.b,b.g,b.i,v.a,D.a,b.d,b.a,F.a,b.f,b.h],styles:[".float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}  .highlight{color:#fff;background:#673ab7}"]}),t})();var N=a("Gdn9"),q=a("d3UM"),_=a("FKr1");function Q(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Mandatory"),m.Ub())}function $(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Inavalid"),m.Ub())}function L(t,e){if(1&t&&(m.Vb(0,"mat-error"),m.Bc(1,Q,2,0,"span",10),m.Bc(2,$,2,0,"span",10),m.Ub()),2&t){const t=m.hc();m.Db(1),m.nc("ngIf",t.productForm.controls.name.errors.required),m.Db(1),m.nc("ngIf",t.productForm.controls.name.errors.pattern)}}function H(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Mandatory"),m.Ub())}function G(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Inavalid"),m.Ub())}function j(t,e){if(1&t&&(m.Vb(0,"mat-error"),m.Bc(1,H,2,0,"span",10),m.Bc(2,G,2,0,"span",10),m.Ub()),2&t){const t=m.hc();m.Db(1),m.nc("ngIf",t.productForm.controls.price.errors.required),m.Db(1),m.nc("ngIf",t.productForm.controls.price.errors.pattern)}}function J(t,e){if(1&t&&(m.Vb(0,"mat-option",18),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.nc("value",t.id),m.Db(1),m.Fc(" ",t.name," ")}}function W(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Mandatory"),m.Ub())}function z(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Inavalid"),m.Ub())}function X(t,e){if(1&t&&(m.Vb(0,"mat-error"),m.Bc(1,W,2,0,"span",10),m.Bc(2,z,2,0,"span",10),m.Ub()),2&t){const t=m.hc();m.Db(1),m.nc("ngIf",t.productForm.controls.description.errors.required),m.Db(1),m.nc("ngIf",t.productForm.controls.description.errors.pattern)}}let Z=(()=>{class t{constructor(t,e,a,r,o,n){this.dialogData=t,this.formBuilder=e,this.productService=a,this.dialogRef=r,this.categoryService=o,this.snackbarService=n,this.onAddProduct=new m.o,this.onEditProduct=new m.o,this.productForm=c.h,this.dialogAction="Add",this.action="Add",this.categorys=[],this.selectedImage=null}ngOnInit(){this.productForm=this.formBuilder.group({name:[null,[c.s.required,c.s.pattern(d.a.nameRegex)]],categoryId:[null,[c.s.required]],price:[null,[c.s.required]],description:[null,[c.s.required]]}),"Edit"===this.dialogData.action&&(this.dialogAction="Edit",this.action="Update",this.productForm.patchValue(this.dialogData.data)),this.getCategorys()}getCategorys(){this.categoryService.getCategorys().subscribe(t=>{this.categorys=t},t=>{var e,a;console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.messages)?null===(a=t.error)||void 0===a?void 0:a.message:d.a.unauthorized,this.snackbarService.openSnackBar(this.responseMessage,d.a.error)})}handleSubmit(){"Edit"===this.dialogAction?this.edit():this.add()}add(){var t=this.productForm.value;this.productService.add({name:t.name,categoryId:t.categoryId,price:t.price,description:t.description,image:t.selectedImage}).subscribe(t=>{this.dialogRef.close(),this.onAddProduct.emit(),this.responseMessage=t.message,this.snackbarService.openSnackBar(this.responseMessage,"success")},t=>{var e,a;console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:d.a.unauthorized,this.snackbarService.openSnackBar(this.responseMessage,d.a.error)})}edit(){var t=this.productForm.value;this.productService.update({id:this.dialogData.data.id,name:t.name,categoryId:t.categoryId,price:t.price,description:t.description}).subscribe(t=>{this.dialogRef.close(),this.onEditProduct.emit(),this.responseMessage=t.message,this.snackbarService.openSnackBar(this.responseMessage,"success")},t=>{var e,a;console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:d.a.unauthorized,this.snackbarService.openSnackBar(this.responseMessage,d.a.error)})}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(l.a),m.Pb(c.e),m.Pb(N.a),m.Pb(l.h),m.Pb(p),m.Pb(h.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-product"]],decls:43,vars:8,consts:[["color","primary"],["fxLayout","row"],[1,"spacer"],["mat-icon-button","","mat-dialog-close","",1,"mat-dialog-class"],[1,"mat-typography"],[3,"formGroup"],["fxFlex","","fxLayout","column"],["fxLayout","row wrap"],["appearance","standard","fxFlex",""],["matInput","","formControlName","name","required",""],[4,"ngIf"],["matInput","","formControlName","price","required",""],["formControlName","categoryId"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","description","required",""],["align","end"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],["mat-raised-button","","color","warn","mat-dialog-close",""],[3,"value"]],template:function(t,e){1&t&&(m.Vb(0,"mat-toolbar",0),m.Vb(1,"mat-toolbar-row",1),m.Vb(2,"span"),m.Dc(3),m.Ub(),m.Qb(4,"span",2),m.Vb(5,"button",3),m.Vb(6,"mat-icon"),m.Dc(7,"close"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(8,"mat-dialog-content",4),m.Vb(9,"form",5),m.Vb(10,"div",6),m.Vb(11,"div",7),m.Vb(12,"mat-form-field",8),m.Vb(13,"mat-label"),m.Dc(14,"Name"),m.Ub(),m.Qb(15,"input",9),m.Bc(16,L,3,2,"mat-error",10),m.Ub(),m.Ub(),m.Vb(17,"div",7),m.Vb(18,"mat-form-field",8),m.Vb(19,"mat-label"),m.Dc(20,"Price"),m.Ub(),m.Qb(21,"input",11),m.Bc(22,j,3,2,"mat-error",10),m.Ub(),m.Vb(23,"mat-form-field",8),m.Vb(24,"mat-label"),m.Dc(25,"Category"),m.Ub(),m.Vb(26,"mat-select",12),m.Bc(27,J,2,2,"mat-option",13),m.Ub(),m.Ub(),m.Ub(),m.Vb(28,"div",7),m.Vb(29,"mat-form-field",8),m.Vb(30,"mat-label"),m.Dc(31,"Description"),m.Ub(),m.Qb(32,"input",14),m.Bc(33,X,3,2,"mat-error",10),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(34,"mat-dialog-actions",15),m.Vb(35,"button",16),m.dc("click",function(){return e.handleSubmit()}),m.Vb(36,"mat-icon"),m.Dc(37,"save"),m.Ub(),m.Dc(38),m.Ub(),m.Vb(39,"button",17),m.Vb(40,"mat-icon"),m.Dc(41,"cancel"),m.Ub(),m.Dc(42,"Close"),m.Ub(),m.Ub()),2&t&&(m.Db(3),m.Fc("",e.dialogData.action," Products"),m.Db(6),m.nc("formGroup",e.productForm),m.Db(7),m.nc("ngIf",e.productForm.controls.name.touched&&e.productForm.controls.name.invalid),m.Db(6),m.nc("ngIf",e.productForm.controls.price.touched&&e.productForm.controls.price.invalid),m.Db(5),m.nc("ngForOf",e.categorys),m.Db(6),m.nc("ngIf",e.productForm.controls.description.touched&&e.productForm.controls.description.invalid),m.Db(2),m.nc("disabled",!(e.productForm.valid&&e.productForm.dirty)),m.Db(3),m.Fc(" ",e.action," "))},directives:[f.a,f.c,g.b,v.a,l.d,D.a,l.f,c.t,c.o,c.i,g.a,U.c,U.g,y.b,c.c,c.n,c.g,c.r,n.l,q.a,n.k,l.c,U.b,_.m],styles:[".mat-toolbar[_ngcontent-%COMP%]{margin:-24px -24px 10px;width:auto}mat-form-field[_ngcontent-%COMP%]{padding:5px}"]}),t})();var K=a("A9yO"),Y=a("1jcm");function tt(t,e){if(1&t){const t=m.Wb();m.Vb(0,"button",16),m.dc("click",function(){return m.vc(t),m.hc().handleAddAction()}),m.Vb(1,"mat-icon"),m.Dc(2,"add_circle"),m.Ub(),m.Dc(3,"Add Products "),m.Ub()}}function et(t,e){1&t&&(m.Vb(0,"th",17),m.Dc(1,"Name"),m.Ub())}function at(t,e){if(1&t&&(m.Vb(0,"td",18),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.name)}}function rt(t,e){1&t&&(m.Vb(0,"th",17),m.Dc(1,"Category"),m.Ub())}function ot(t,e){if(1&t&&(m.Vb(0,"td",18),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.categoryName)}}function nt(t,e){1&t&&(m.Vb(0,"th",17),m.Dc(1,"Description"),m.Ub())}function it(t,e){if(1&t&&(m.Vb(0,"td",18),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.description)}}function ct(t,e){1&t&&(m.Vb(0,"th",17),m.Dc(1,"Price"),m.Ub())}function st(t,e){if(1&t&&(m.Vb(0,"td",18),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.price)}}function lt(t,e){1&t&&(m.Vb(0,"th",17),m.Dc(1,"Action"),m.Ub())}function bt(t,e){if(1&t){const t=m.Wb();m.Vb(0,"button",23),m.dc("click",function(){m.vc(t);const e=m.hc().$implicit;return m.hc().handleEditAction(e)}),m.Vb(1,"mat-icon"),m.Dc(2,"edit"),m.Ub(),m.Ub()}}function dt(t,e){if(1&t){const t=m.Wb();m.Vb(0,"button",24),m.dc("click",function(){m.vc(t);const e=m.hc().$implicit;return m.hc().handleDeleteAction(e)}),m.Vb(1,"mat-icon"),m.Dc(2,"delete"),m.Ub(),m.Ub()}}function mt(t,e){if(1&t){const t=m.Wb();m.Vb(0,"mat-slide-toggle",25),m.dc("change",function(e){m.vc(t);const a=m.hc().$implicit;return m.hc().onChange(e.checked,a.id)}),m.Ub()}if(2&t){const t=m.hc().$implicit;m.nc("checked",t.status)}}function ut(t,e){if(1&t&&(m.Vb(0,"td",19),m.Bc(1,bt,3,0,"button",20),m.Bc(2,dt,3,0,"button",21),m.Bc(3,mt,1,1,"mat-slide-toggle",22),m.Ub()),2&t){const t=m.hc();m.Db(1),m.nc("ngIf","user"!==t.userRole&&"Employee"!==t.userRole),m.Db(1),m.nc("ngIf","user"!==t.userRole&&"Employee"!==t.userRole),m.Db(1),m.nc("ngIf","user"!==t.userRole&&"Employee"!==t.userRole)}}function pt(t,e){1&t&&m.Qb(0,"tr",26)}function ht(t,e){1&t&&m.Qb(0,"tr",27)}let ft=(()=>{class t{constructor(t,e,a,r,o,n){this.productService=t,this.ngxService=e,this.dialog=a,this.snackbarService=r,this.routeGuardService=o,this.router=n,this.displayedColumns=["name","categoryName","description","price","edit"]}ngOnInit(){this.ngxService.start(),this.userRole=this.routeGuardService.getUserRole(),this.tableData()}tableData(){this.productService.getAllProducts().subscribe(t=>{this.ngxService.stop(),this.dataSource=new b.k(t)},t=>{var e,a,r;this.ngxService.stop(),console.log(null===(e=t.error)||void 0===e?void 0:e.message),this.responseMessage=(null===(a=t.error)||void 0===a?void 0:a.message)?null===(r=t.error)||void 0===r?void 0:r.message:d.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,d.a.error)})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}handleAddAction(){const t=new l.e;t.data={action:"Add"},t.width="850px";const e=this.dialog.open(Z,t);this.router.events.subscribe(()=>{e.close()}),e.componentInstance.onAddProduct.subscribe(t=>{this.tableData()})}handleEditAction(t){const e=new l.e;e.data={action:"Edit",data:t},e.width="850px";const a=this.dialog.open(Z,e);this.router.events.subscribe(()=>{a.close()}),a.componentInstance.onAddProduct.subscribe(t=>{this.tableData()})}handleDeleteAction(t){const e=new l.e;e.data={message:"delete"+t.name+"product",confirmation:!0};const a=this.dialog.open(K.a,e);a.componentInstance.onEmitStatusChange.subscribe(e=>{this.ngxService.start(),this.deleteProduct(t.id),a.close()})}deleteProduct(t){this.productService.delete(t).subscribe(t=>{this.ngxService.stop(),this.tableData(),this.responseMessage=null==t?void 0:t.message,this.snackbarService.openSnackBar(this.responseMessage,"success")},t=>{var e,a;this.ngxService.stop(),console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:d.a.unauthorized,this.snackbarService.openSnackBar(this.responseMessage,d.a.error)})}onChange(t,e){this.ngxService.start();var a={status:t.toString(),id:e};this.productService.updateStatus(a).subscribe(t=>{this.ngxService.stop(),this.responseMessage=null==t?void 0:t.message,this.snackbarService.openSnackBar(this.responseMessage,"success")},t=>{var e,a;this.ngxService.stop(),console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:d.a.unauthorized,this.snackbarService.openSnackBar(this.responseMessage,d.a.error)})}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(N.a),m.Pb(w.b),m.Pb(l.b),m.Pb(h.a),m.Pb(B.a),m.Pb(r.e))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-manage-product"]],decls:32,vars:5,consts:[["mat-flat-button","","color","primary","class","float-right",3,"click",4,"ngIf"],["appearence","standard"],["matInput","",3,"keyup"],["input",""],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","categoryName"],["matColumnDef","description"],["matColumnDef","price"],["matColumnDef","edit"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefStucky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-flat-button","","color","primary",1,"float-right",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-icon-button","","color","primary","matTooltip","Edit",3,"click",4,"ngIf"],["mat-icon-button","","color","primary","matTooltip","Delete",3,"click",4,"ngIf"],["matTooltip","Activate or Deactivate Product",3,"checked","change",4,"ngIf"],["mat-icon-button","","color","primary","matTooltip","Edit",3,"click"],["mat-icon-button","","color","primary","matTooltip","Delete",3,"click"],["matTooltip","Activate or Deactivate Product",3,"checked","change"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(m.Vb(0,"mat-card"),m.Vb(1,"b"),m.Vb(2,"span"),m.Dc(3,"Manage Products"),m.Ub(),m.Ub(),m.Bc(4,tt,4,0,"button",0),m.Ub(),m.Qb(5,"hr"),m.Vb(6,"mat-card"),m.Vb(7,"mat-form-field",1),m.Vb(8,"mat-label"),m.Dc(9,"Filter"),m.Ub(),m.Vb(10,"input",2,3),m.dc("keyup",function(t){return e.applyFilter(t)}),m.Ub(),m.Ub(),m.Ub(),m.Qb(12,"hr"),m.Vb(13,"div",4),m.Vb(14,"table",5),m.Tb(15,6),m.Bc(16,et,2,0,"th",7),m.Bc(17,at,2,1,"td",8),m.Sb(),m.Tb(18,9),m.Bc(19,rt,2,0,"th",7),m.Bc(20,ot,2,1,"td",8),m.Sb(),m.Tb(21,10),m.Bc(22,nt,2,0,"th",7),m.Bc(23,it,2,1,"td",8),m.Sb(),m.Tb(24,11),m.Bc(25,ct,2,0,"th",7),m.Bc(26,st,2,1,"td",8),m.Sb(),m.Tb(27,12),m.Bc(28,lt,2,0,"th",7),m.Bc(29,ut,4,3,"td",13),m.Sb(),m.Bc(30,pt,1,0,"tr",14),m.Bc(31,ht,1,0,"tr",15),m.Ub(),m.Ub()),2&t&&(m.Db(4),m.nc("ngIf","user"!==e.userRole&&"Employee"!==e.userRole),m.Db(10),m.nc("dataSource",e.dataSource),m.Db(16),m.nc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefStucky",!0),m.Db(1),m.nc("matRowDefColumns",e.displayedColumns))},directives:[k.a,n.l,U.c,U.g,y.b,b.j,b.c,b.e,b.b,b.g,b.i,v.a,D.a,b.d,b.a,F.a,Y.a,b.f,b.h],styles:[".float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}"]}),t})(),gt=(()=>{class t{constructor(t){this.httpClient=t,this.url=u.a.apiUrl}generateBill(t){return this.httpClient.post(this.url+"/bill/generateBill",t,{headers:(new o.e).set("Content-Type","application/json")})}getPdf(t){return this.httpClient.post(this.url+"/bill/getPdf",t,{responseType:"blob"})}getBills(){return this.httpClient.get(this.url+"/bill/getBills")}delete(t){return this.httpClient.post(this.url+"/bill/deleteBill/"+t,{headers:(new o.e).set("Content-Type","application/json")})}getAllOrder(){return this.httpClient.get(this.url+"/bill/getAllOrderCountByName")}autoPrintPdf(t){return this.httpClient.post(this.url+"/bill/autoPrintPdf",+t)}getAllSales(){return this.httpClient.get(this.url+"/bill/getProductSaleAll")}}return t.\u0275fac=function(e){return new(e||t)(m.Zb(o.b))},t.\u0275prov=m.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function vt(t,e){if(1&t){const t=m.Wb();m.Vb(0,"button",37),m.dc("click",function(){return m.vc(t),m.hc().submitAction()}),m.Vb(1,"mat-icon"),m.Dc(2,"print"),m.Ub(),m.Dc(3," Submit & Get Bill "),m.Ub()}if(2&t){const t=m.hc();m.nc("disabled",t.validateSubmit())}}function Dt(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Mandatory"),m.Ub())}function Ut(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Invalid"),m.Ub())}function yt(t,e){if(1&t&&(m.Vb(0,"mat-error"),m.Bc(1,Dt,2,0,"span",6),m.Bc(2,Ut,2,0,"span",6),m.Ub()),2&t){const t=m.hc();m.Db(1),m.nc("ngIf",t.manageOrderForm.controls.name.errors.required),m.Db(1),m.nc("ngIf",t.manageOrderForm.controls.name.errors.pattern)}}function Vt(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Mandatory"),m.Ub())}function St(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Invalid"),m.Ub())}function Ct(t,e){if(1&t&&(m.Vb(0,"mat-error"),m.Bc(1,Vt,2,0,"span",6),m.Bc(2,St,2,0,"span",6),m.Ub()),2&t){const t=m.hc();m.Db(1),m.nc("ngIf",t.manageOrderForm.controls.email.errors.required),m.Db(1),m.nc("ngIf",t.manageOrderForm.controls.email.errors.pattern)}}function wt(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Mandatory"),m.Ub())}function Bt(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Invalid"),m.Ub())}function kt(t,e){if(1&t&&(m.Vb(0,"mat-error"),m.Bc(1,wt,2,0,"span",6),m.Bc(2,Bt,2,0,"span",6),m.Ub()),2&t){const t=m.hc();m.Db(1),m.nc("ngIf",t.manageOrderForm.controls.contactNumber.errors.required),m.Db(1),m.nc("ngIf",t.manageOrderForm.controls.contactNumber.errors.pattern)}}function Ft(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Mandatory"),m.Ub())}function It(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Invalid"),m.Ub())}function Mt(t,e){if(1&t&&(m.Vb(0,"mat-error"),m.Bc(1,Ft,2,0,"span",6),m.Bc(2,It,2,0,"span",6),m.Ub()),2&t){const t=m.hc();m.Db(1),m.nc("ngIf",t.manageOrderForm.controls.paymentMethod.errors.required),m.Db(1),m.nc("ngIf",t.manageOrderForm.controls.paymentMethod.errors.pattern)}}function Rt(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Mandatory"),m.Ub())}function Pt(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Invalid"),m.Ub())}function xt(t,e){if(1&t&&(m.Vb(0,"mat-error"),m.Bc(1,Rt,2,0,"span",6),m.Bc(2,Pt,2,0,"span",6),m.Ub()),2&t){const t=m.hc();m.Db(1),m.nc("ngIf",t.manageOrderForm.controls.deliveryAddress.errors.required),m.Db(1),m.nc("ngIf",t.manageOrderForm.controls.deliveryAddress.errors.pattern)}}function Tt(t,e){if(1&t&&(m.Vb(0,"mat-option",38),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.nc("value",t),m.Db(1),m.Fc(" ",t.name," ")}}function Ot(t,e){if(1&t&&(m.Vb(0,"mat-option",38),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.nc("value",t),m.Db(1),m.Fc(" ",t.name," ")}}function At(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Mandatory"),m.Ub())}function Et(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Invalid"),m.Ub())}function Nt(t,e){if(1&t&&(m.Vb(0,"mat-error"),m.Bc(1,At,2,0,"span",6),m.Bc(2,Et,2,0,"span",6),m.Ub()),2&t){const t=m.hc();m.Db(1),m.nc("ngIf",t.manageOrderForm.controls.quantity.errors.required),m.Db(1),m.nc("ngIf",t.manageOrderForm.controls.quantity.errors.pattern)}}function qt(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Mandatory"),m.Ub())}function _t(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Invalid"),m.Ub())}function Qt(t,e){if(1&t&&(m.Vb(0,"mat-error"),m.Bc(1,qt,2,0,"span",6),m.Bc(2,_t,2,0,"span",6),m.Ub()),2&t){const t=m.hc();m.Db(1),m.nc("ngIf",t.manageOrderForm.controls.total.errors.required),m.Db(1),m.nc("ngIf",t.manageOrderForm.controls.total.errors.pattern)}}function $t(t,e){if(1&t){const t=m.Wb();m.Vb(0,"button",39),m.dc("click",function(){return m.vc(t),m.hc().add()}),m.Dc(1,"Add"),m.Ub()}if(2&t){const t=m.hc();m.nc("disabled",t.validateProductAdd())}}function Lt(t,e){if(1&t&&(m.Vb(0,"button",40),m.Vb(1,"mat-icon"),m.Dc(2,"monetization_on"),m.Ub(),m.Dc(3),m.Ub()),2&t){const t=m.hc();m.Db(3),m.Fc(" Total Amount: ",t.total," ")}}function Ht(t,e){1&t&&(m.Vb(0,"th",41),m.Dc(1,"Name"),m.Ub())}function Gt(t,e){if(1&t&&(m.Vb(0,"td",42),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.name)}}function jt(t,e){1&t&&(m.Vb(0,"th",41),m.Dc(1,"Category"),m.Ub())}function Jt(t,e){if(1&t&&(m.Vb(0,"td",42),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.category)}}function Wt(t,e){1&t&&(m.Vb(0,"th",41),m.Dc(1,"Price"),m.Ub())}function zt(t,e){if(1&t&&(m.Vb(0,"td",42),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.price)}}function Xt(t,e){1&t&&(m.Vb(0,"th",41),m.Dc(1,"Quantity"),m.Ub())}function Zt(t,e){if(1&t&&(m.Vb(0,"td",42),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.quantity)}}function Kt(t,e){1&t&&(m.Vb(0,"th",41),m.Dc(1,"Total"),m.Ub())}function Yt(t,e){if(1&t&&(m.Vb(0,"td",42),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.total)}}function te(t,e){1&t&&(m.Vb(0,"th",41),m.Dc(1,"Delete"),m.Ub())}function ee(t,e){if(1&t){const t=m.Wb();m.Vb(0,"td",43),m.Vb(1,"button",44),m.dc("click",function(){m.vc(t);const a=e.index,r=e.$implicit;return m.hc().handleDeleteAction(a,r)}),m.Vb(2,"mat-icon"),m.Dc(3,"delete"),m.Ub(),m.Ub(),m.Ub()}}function ae(t,e){1&t&&m.Qb(0,"tr",45)}function re(t,e){1&t&&m.Qb(0,"tr",46)}let oe=(()=>{class t{constructor(t,e,a,r,o,n,i,s){this.formBuilder=t,this.categoryService=e,this.porductService=a,this.snackbarService=r,this.billService=o,this.ngxService=n,this.routeGuardService=i,this.httpClient=s,this.displayedColumns=["name","category","price","quantity","total","edit"],this.dataSource=[],this.manageOrderForm=c.h,this.categorys=[],this.products=[],this.total=0}ngOnInit(){this.ngxService.start(),this.userRole=this.routeGuardService.getUserRole(),this.getCategorys(),this.manageOrderForm=this.formBuilder.group({name:[null,[c.s.required,c.s.pattern(d.a.nameRegex)]],email:[null,[c.s.required,c.s.pattern(d.a.emailRegex)]],contactNumber:[null,[c.s.required,c.s.pattern(d.a.contactNumberRegex)]],paymentMethod:[null,[c.s.required]],deliveryAddress:[null,[c.s.required]],product:[null,[c.s.required]],category:[null,[c.s.required]],quantity:[null,[c.s.required]],price:[null,[c.s.required]],total:[0,[c.s.required]],categories:new c.d([]),products:new c.d([])})}getCategorys(){this.categoryService.getFilteredCategorys().subscribe(t=>{this.ngxService.stop(),this.categorys=t},t=>{var e,a;this.ngxService.stop(),console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:d.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,d.a.error)})}getProductsByCategory(t){this.porductService.getProductsByCategory(t.id).subscribe(t=>{this.products=t,this.manageOrderForm.controls.price.setValue(""),this.manageOrderForm.controls.quantity.setValue(""),this.manageOrderForm.controls.total.setValue("0")},t=>{var e,a;console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:d.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,d.a.error)})}getProductDetails(t){this.porductService.getById(t.id).subscribe(e=>{this.price=e.price,this.manageOrderForm.controls.product.setValue(t),this.manageOrderForm.controls.price.setValue(e.price),this.manageOrderForm.controls.quantity.setValue("1"),this.manageOrderForm.controls.total.setValue(1*this.price),this.updateTotal()},t=>{var e,a;console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:d.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,d.a.error)})}updateTotal(){this.manageOrderForm.controls.total.setValue(this.manageOrderForm.controls.price.value*this.manageOrderForm.controls.quantity.value)}setQuantity(t){var e=this.manageOrderForm.controls.quantity.value;e>0?this.manageOrderForm.controls.total.setValue(this.manageOrderForm.controls.quantity.value*this.manageOrderForm.controls.price.value):""!=e&&(this.manageOrderForm.controls.quantity.setValue("1"),this.manageOrderForm.controls.total.setValue(this.manageOrderForm.controls.quantity.value*this.manageOrderForm.controls.price.value))}validateProductAdd(){return 0===this.manageOrderForm.controls.total.value||null===this.manageOrderForm.controls.total.value||this.manageOrderForm.controls.quantity.value<=0}validateSubmit(){return 0===this.total||null===this.manageOrderForm.controls.total.value||null===this.manageOrderForm.controls.email.value||null===this.manageOrderForm.controls.contactNumber.value||null===this.manageOrderForm.controls.paymentMethod.value||null===this.manageOrderForm.controls.deliveryAddress.value}add(){var t=this.manageOrderForm.value;void 0===this.dataSource.find(e=>e.id===t.product.id)?(this.total=this.total+t.total,this.dataSource.push({id:t.product.id,name:t.product.name,category:t.category.name,quantity:t.quantity,price:t.price,total:t.total}),this.dataSource=[...this.dataSource],this.snackbarService.openSnackBar(d.a.productAdded,"success")):this.snackbarService.openSnackBar(d.a.productExistError,d.a.error)}handleDeleteAction(t,e){this.total=this.total-e.total,this.dataSource.splice(t,1),this.dataSource=[...this.dataSource]}submitAction(){var t=this.manageOrderForm.value,e={fileName:t.fileName,contactNumber:t.contactNumber,email:t.email,name:t.name,paymentMethod:t.paymentMethod,deliveryAddress:t.deliveryAddress,productDetails:JSON.stringify(this.dataSource),total:this.total.toString()};this.ngxService.start(),this.billService.generateBill(e).subscribe(t=>{this.snackbarService.openSnackBar("Bill generated and downloaded successfully!","success"),this.downloadFile(t.uuid),this.manageOrderForm.reset(),this.dataSource=[],this.total=0},t=>{console.error(t),this.snackbarService.openSnackBar("Failed to generate the bill. Please try again later.","error")})}downloadFile(t){this.billService.getPdf({uuid:t}).subscribe(e=>{this.autoPrintPdf(e);const a=new Blob([e],{type:"application/pdf"}),r=window.URL.createObjectURL(a),o=document.createElement("a");o.href=r,o.download=t+".pdf",o.click(),window.URL.revokeObjectURL(r),this.ngxService.stop()})}onCategorySelected(t){const e=t.source.value,a=this.manageOrderForm.get("categories");if(t.checked)a.push(new c.f(e));else{const t=a.controls.findIndex(t=>t.value===e);a.removeAt(t)}}onProductSelected(t){const e=t.source.value,a=this.manageOrderForm.get("products");if(t.checked)a.push(new c.f(e));else{const t=a.controls.findIndex(t=>t.value===e);a.removeAt(t)}}printBill(t){this.billService.autoPrintPdf(t).subscribe(t=>{this.autoPrintPdf(t)},t=>{console.error("Error printing bill:",t)})}autoPrintPdf(t){this.httpClient.get("/bill/autoPrintPdf").subscribe(t=>{this.billService.getPdf({printable:t,type:"pdf"})},t=>{console.error("Error printing bill:",t)})}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(c.e),m.Pb(p),m.Pb(N.a),m.Pb(h.a),m.Pb(gt),m.Pb(w.b),m.Pb(B.a),m.Pb(o.b))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-manage-order"]],decls:104,vars:18,consts:[["mat-flat-button","","color","primary","class","float-right",3,"disabled","click",4,"ngIf"],[3,"formGroup"],["fxFlex","","fxLayout","column"],["fxLayout","row wrap"],["appearance","standard","fxFlex",""],["matInput","","formControlName","name","required",""],[4,"ngIf"],["matInput","","formControlName","email","required",""],["matInput","","formControlName","contactNumber","required",""],["formControlName","paymentMethod","required",""],["value","Cash"],["value","Credit Card"],["value","Debit Card"],["matInput","","formControlName","deliveryAddress","required",""],["formControlName","category",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","product",3,"selectionChange"],["matInput","","formControlName","price","required","","readonly","",3,"input"],["priceInput",""],["matInput","","formControlName","quantity","required","",3,"input"],["quantityInput",""],["matInput","","formControlName","total","required","","readonly","",3,"input"],["mat-flat-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-flat-button","","color","primary","class","float-right",4,"ngIf"],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","category"],["matColumnDef","price"],["matColumnDef","quantity"],["matColumnDef","total"],["matColumnDef","edit"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-flat-button","","color","primary",1,"float-right",3,"disabled","click"],[3,"value"],["mat-flat-button","","color","primary",3,"disabled","click"],["mat-flat-button","","color","primary",1,"float-right"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-icon-button","","color","primary","matTooltip","Edit",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(m.Vb(0,"mat-card"),m.Vb(1,"b"),m.Vb(2,"span"),m.Dc(3,"Manage Order"),m.Ub(),m.Ub(),m.Bc(4,vt,4,1,"button",0),m.Ub(),m.Qb(5,"hr"),m.Vb(6,"mat-card"),m.Vb(7,"b"),m.Vb(8,"span"),m.Dc(9,"Customer Details:"),m.Ub(),m.Ub(),m.Vb(10,"form",1),m.Vb(11,"div",2),m.Vb(12,"div",3),m.Vb(13,"mat-form-field",4),m.Vb(14,"mat-label"),m.Dc(15,"Name:"),m.Ub(),m.Qb(16,"input",5),m.Bc(17,yt,3,2,"mat-error",6),m.Ub(),m.Vb(18,"mat-form-field",4),m.Vb(19,"mat-label"),m.Dc(20,"Email:"),m.Ub(),m.Qb(21,"input",7),m.Bc(22,Ct,3,2,"mat-error",6),m.Ub(),m.Vb(23,"mat-form-field",4),m.Vb(24,"mat-label"),m.Dc(25,"Contact Number:"),m.Ub(),m.Qb(26,"input",8),m.Bc(27,kt,3,2,"mat-error",6),m.Ub(),m.Vb(28,"mat-form-field",4),m.Vb(29,"mat-label"),m.Dc(30,"Payment Method:"),m.Ub(),m.Vb(31,"mat-select",9),m.Vb(32,"mat-option",10),m.Dc(33,"Cash"),m.Ub(),m.Vb(34,"mat-option",11),m.Dc(35,"Credit Card"),m.Ub(),m.Vb(36,"mat-option",12),m.Dc(37,"Debit Card"),m.Ub(),m.Ub(),m.Bc(38,Mt,3,2,"mat-error",6),m.Ub(),m.Vb(39,"mat-form-field",4),m.Vb(40,"mat-label"),m.Dc(41,"Delivery Address:"),m.Ub(),m.Qb(42,"input",13),m.Bc(43,xt,3,2,"mat-error",6),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qb(44,"hr"),m.Vb(45,"b"),m.Vb(46,"span"),m.Dc(47,"Select Products:"),m.Ub(),m.Ub(),m.Vb(48,"form",1),m.Vb(49,"div",2),m.Vb(50,"div",3),m.Vb(51,"mat-form-field",4),m.Vb(52,"mat-label"),m.Dc(53,"Category"),m.Ub(),m.Vb(54,"mat-select",14),m.dc("selectionChange",function(t){return e.getProductsByCategory(t.value)}),m.Bc(55,Tt,2,2,"mat-option",15),m.Ub(),m.Ub(),m.Vb(56,"mat-form-field",4),m.Vb(57,"mat-label"),m.Dc(58,"Products"),m.Ub(),m.Vb(59,"mat-select",16),m.dc("selectionChange",function(t){return e.getProductDetails(t.value)}),m.Bc(60,Ot,2,2,"mat-option",15),m.Ub(),m.Ub(),m.Vb(61,"mat-form-field",4),m.Vb(62,"mat-label"),m.Dc(63,"Price:"),m.Ub(),m.Vb(64,"input",17,18),m.dc("input",function(){return e.updateTotal()}),m.Ub(),m.Ub(),m.Vb(66,"mat-form-field",4),m.Vb(67,"mat-label"),m.Dc(68,"Quantity:"),m.Ub(),m.Vb(69,"input",19,20),m.dc("input",function(){return e.updateTotal()}),m.Ub(),m.Bc(71,Nt,3,2,"mat-error",6),m.Ub(),m.Vb(72,"mat-form-field",4),m.Vb(73,"mat-label"),m.Dc(74,"Total:"),m.Ub(),m.Vb(75,"input",21),m.dc("input",function(){return e.updateTotal()}),m.Ub(),m.Bc(76,Qt,3,2,"mat-error",6),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(77,"div"),m.Bc(78,$t,2,1,"button",22),m.Bc(79,Lt,4,1,"button",23),m.Ub(),m.Ub(),m.Qb(80,"hr"),m.Vb(81,"div",24),m.Vb(82,"table",25),m.Tb(83,26),m.Bc(84,Ht,2,0,"th",27),m.Bc(85,Gt,2,1,"td",28),m.Sb(),m.Tb(86,29),m.Bc(87,jt,2,0,"th",27),m.Bc(88,Jt,2,1,"td",28),m.Sb(),m.Tb(89,30),m.Bc(90,Wt,2,0,"th",27),m.Bc(91,zt,2,1,"td",28),m.Sb(),m.Tb(92,31),m.Bc(93,Xt,2,0,"th",27),m.Bc(94,Zt,2,1,"td",28),m.Sb(),m.Tb(95,32),m.Bc(96,Kt,2,0,"th",27),m.Bc(97,Yt,2,1,"td",28),m.Sb(),m.Tb(98,33),m.Bc(99,te,2,0,"th",27),m.Bc(100,ee,4,0,"td",34),m.Sb(),m.Bc(101,ae,1,0,"tr",35),m.Bc(102,re,1,0,"tr",36),m.Ub(),m.Qb(103,"hr"),m.Ub()),2&t&&(m.Db(4),m.nc("ngIf","Employee"!==e.userRole),m.Db(6),m.nc("formGroup",e.manageOrderForm),m.Db(7),m.nc("ngIf",e.manageOrderForm.controls.name.touched&&e.manageOrderForm.controls.name.invalid),m.Db(5),m.nc("ngIf",e.manageOrderForm.controls.email.touched&&e.manageOrderForm.controls.email.invalid),m.Db(5),m.nc("ngIf",e.manageOrderForm.controls.contactNumber.touched&&e.manageOrderForm.controls.contactNumber.invalid),m.Db(11),m.nc("ngIf",e.manageOrderForm.controls.paymentMethod.touched&&e.manageOrderForm.controls.paymentMethod.invalid),m.Db(5),m.nc("ngIf",e.manageOrderForm.controls.deliveryAddress.touched&&e.manageOrderForm.controls.deliveryAddress.invalid),m.Db(5),m.nc("formGroup",e.manageOrderForm),m.Db(7),m.nc("ngForOf",e.categorys),m.Db(5),m.nc("ngForOf",e.products),m.Db(11),m.nc("ngIf",e.manageOrderForm.controls.quantity.touched&&e.manageOrderForm.controls.quantity.invalid),m.Db(5),m.nc("ngIf",e.manageOrderForm.controls.total.touched&&e.manageOrderForm.controls.total.invalid),m.Db(2),m.nc("ngIf","Employee"!==e.userRole),m.Db(1),m.nc("ngIf","Employee"!==e.userRole),m.Db(3),m.nc("dataSource",e.dataSource),m.Db(19),m.nc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),m.Db(1),m.nc("matRowDefColumns",e.displayedColumns))},directives:[k.a,n.l,c.t,c.o,c.i,g.a,g.b,U.c,U.g,y.b,c.c,c.n,c.g,c.r,q.a,_.m,n.k,b.j,b.c,b.e,b.b,b.g,b.i,v.a,D.a,U.b,b.d,b.a,F.a,b.f,b.h],styles:["mat-form-field[_ngcontent-%COMP%]{padding:5px}.float-right[_ngcontent-%COMP%]{float:right}table[_ngcontent-%COMP%]{width:100%}mat-card[_ngcontent-%COMP%]{padding-bottom:30px!important}"]}),t})();function ne(t,e){1&t&&(m.Vb(0,"th",18),m.Dc(1,"Name"),m.Ub())}function ie(t,e){if(1&t&&(m.Vb(0,"td",19),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.name)}}function ce(t,e){1&t&&(m.Vb(0,"th",18),m.Dc(1,"Category"),m.Ub())}function se(t,e){if(1&t&&(m.Vb(0,"td",19),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.category)}}function le(t,e){1&t&&(m.Vb(0,"th",18),m.Dc(1,"Price"),m.Ub())}function be(t,e){if(1&t&&(m.Vb(0,"td",19),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.price)}}function de(t,e){1&t&&(m.Vb(0,"th",18),m.Dc(1,"Quantity"),m.Ub())}function me(t,e){if(1&t&&(m.Vb(0,"td",19),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.quantity)}}function ue(t,e){1&t&&(m.Vb(0,"th",18),m.Dc(1,"Total"),m.Ub())}function pe(t,e){if(1&t&&(m.Vb(0,"td",19),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.total)}}function he(t,e){1&t&&(m.Vb(0,"th",18),m.Dc(1,"Delivery Address"),m.Ub())}function fe(t,e){if(1&t&&(m.Vb(0,"td",19),m.Dc(1),m.Ub()),2&t){const t=m.hc();m.Db(1),m.Ec(null==t.data?null:t.data.deliveryAddress)}}function ge(t,e){1&t&&m.Qb(0,"tr",20)}function ve(t,e){1&t&&m.Qb(0,"tr",21)}let De=(()=>{class t{constructor(t,e){this.dialogData=t,this.dialogRef=e,this.displayedColumns=["name","category","price","quantity","total","deliveryAddress"]}ngOnInit(){this.data=this.dialogData.data,this.dataSource=JSON.parse(this.dialogData.data.productDetails),console.log(this.dialogData.data)}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(l.a),m.Pb(l.h))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-view-bill-products"]],decls:56,vars:8,consts:[["color","primary"],["fxFlayout","row"],[1,"spacer"],["mat-icon-button","","mat-dialog-close","",1,"mat-dialog-close"],[1,"mat-typography"],["id","Customers"],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","category"],["matColumnDef","price"],["matColumnDef","quantity"],["matColumnDef","total"],["matColumnDef","deliveryAddress"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(m.Vb(0,"mat-toolbar",0),m.Vb(1,"mat-toolbar-row",1),m.Vb(2,"span"),m.Dc(3,"View Bill"),m.Ub(),m.Qb(4,"span",2),m.Vb(5,"button",3),m.Vb(6,"mat-icon"),m.Dc(7,"cancel"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(8,"mat-dialog-content",4),m.Vb(9,"table",5),m.Vb(10,"tr"),m.Vb(11,"td"),m.Vb(12,"b"),m.Dc(13,"Name:"),m.Ub(),m.Dc(14),m.Ub(),m.Vb(15,"td"),m.Vb(16,"b"),m.Dc(17,"Email:"),m.Ub(),m.Dc(18),m.Ub(),m.Ub(),m.Vb(19,"tr"),m.Vb(20,"td"),m.Vb(21,"b"),m.Dc(22,"Contact Number:"),m.Ub(),m.Dc(23),m.Ub(),m.Vb(24,"td"),m.Vb(25,"b"),m.Dc(26,"Payment Method:"),m.Ub(),m.Dc(27),m.Ub(),m.Ub(),m.Vb(28,"tr"),m.Vb(29,"td"),m.Vb(30,"b"),m.Dc(31,"Delivery Address:"),m.Ub(),m.Dc(32),m.Ub(),m.Ub(),m.Ub(),m.Vb(33,"mat-card"),m.Vb(34,"div",6),m.Vb(35,"table",7),m.Tb(36,8),m.Bc(37,ne,2,0,"th",9),m.Bc(38,ie,2,1,"td",10),m.Sb(),m.Tb(39,11),m.Bc(40,ce,2,0,"th",9),m.Bc(41,se,2,1,"td",10),m.Sb(),m.Tb(42,12),m.Bc(43,le,2,0,"th",9),m.Bc(44,be,2,1,"td",10),m.Sb(),m.Tb(45,13),m.Bc(46,de,2,0,"th",9),m.Bc(47,me,2,1,"td",10),m.Sb(),m.Tb(48,14),m.Bc(49,ue,2,0,"th",9),m.Bc(50,pe,2,1,"td",10),m.Sb(),m.Tb(51,15),m.Bc(52,he,2,0,"th",9),m.Bc(53,fe,2,1,"td",10),m.Sb(),m.Bc(54,ge,1,0,"tr",16),m.Bc(55,ve,1,0,"tr",17),m.Ub(),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.Db(14),m.Ec(null==e.data?null:e.data.name),m.Db(4),m.Ec(null==e.data?null:e.data.email),m.Db(5),m.Ec(null==e.data?null:e.data.contactNumber),m.Db(4),m.Ec(null==e.data?null:e.data.paymentMethod),m.Db(5),m.Ec(null==e.data?null:e.data.deliveryAddress),m.Db(3),m.nc("dataSource",e.dataSource),m.Db(19),m.nc("matHeaderRowDef",e.displayedColumns),m.Db(1),m.nc("matRowDefColumns",e.displayedColumns))},directives:[f.a,f.c,v.a,l.d,D.a,l.f,k.a,b.j,b.c,b.e,b.b,b.g,b.i,b.d,b.a,b.f,b.h],styles:[".mat-toolbar[_ngcontent-%COMP%]{width:auto;margin:-24px -24px 10PX}mat-form-field[_ngcontent-%COMP%]{padding:5px}.float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}#customers[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;border-collapse:collapse;width:100%}#customers[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], #customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px}#customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px;text-align:left;background-color:#04aa6d;color:#fff}"]}),t})();var Ue=a("Iab2");function ye(t,e){1&t&&(m.Vb(0,"th",17),m.Dc(1,"Name"),m.Ub())}function Ve(t,e){if(1&t&&(m.Vb(0,"td",18),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.name)}}function Se(t,e){1&t&&(m.Vb(0,"th",17),m.Dc(1,"Email"),m.Ub())}function Ce(t,e){if(1&t&&(m.Vb(0,"td",18),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.email)}}function we(t,e){1&t&&(m.Vb(0,"th",17),m.Dc(1,"Contact Number"),m.Ub())}function Be(t,e){if(1&t&&(m.Vb(0,"td",18),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.contactNumber)}}function ke(t,e){1&t&&(m.Vb(0,"th",17),m.Dc(1,"Payment Method"),m.Ub())}function Fe(t,e){if(1&t&&(m.Vb(0,"td",18),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.paymentMethod)}}function Ie(t,e){1&t&&(m.Vb(0,"th",17),m.Dc(1,"Total"),m.Ub())}function Me(t,e){if(1&t&&(m.Vb(0,"td",18),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.total)}}function Re(t,e){1&t&&(m.Vb(0,"th",17),m.Dc(1,"Delivery Address"),m.Ub())}function Pe(t,e){if(1&t&&(m.Vb(0,"td",18),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.deliveryAddress)}}function xe(t,e){1&t&&(m.Vb(0,"th",17),m.Dc(1,"Action"),m.Ub())}function Te(t,e){if(1&t){const t=m.Wb();m.Vb(0,"button",23),m.dc("click",function(){m.vc(t);const e=m.hc().$implicit;return m.hc().handleDeleteAction(e)}),m.Vb(1,"mat-icon"),m.Dc(2,"delete"),m.Ub(),m.Ub()}}function Oe(t,e){if(1&t){const t=m.Wb();m.Vb(0,"td",19),m.Vb(1,"button",20),m.dc("click",function(){m.vc(t);const a=e.$implicit;return m.hc().handleViewAction(a)}),m.Vb(2,"mat-icon"),m.Dc(3,"visibility"),m.Ub(),m.Ub(),m.Vb(4,"button",21),m.dc("click",function(){m.vc(t);const a=e.$implicit;return m.hc().downloadReportAction(a)}),m.Vb(5,"mat-icon"),m.Dc(6,"description"),m.Ub(),m.Ub(),m.Bc(7,Te,3,0,"button",22),m.Ub()}if(2&t){const t=m.hc();m.Db(7),m.nc("ngIf","Employee"!==t.userRole&&"user"!==t.userRole)}}function Ae(t,e){1&t&&m.Qb(0,"tr",24)}function Ee(t,e){1&t&&m.Qb(0,"tr",25)}let Ne=(()=>{class t{constructor(t,e,a,r,o,n){this.billService=t,this.ngxService=e,this.dialog=a,this.snackbarService=r,this.routeGuardService=o,this.router=n,this.displayedColumns=["name","email","contactNumber","paymentMethod","total","deliveryAddress","view"]}ngOnInit(){this.ngxService.start(),this.userRole=this.routeGuardService.getUserRole(),this.tableData()}tableData(){this.billService.getBills().subscribe(t=>{this.ngxService.stop(),t.forEach(t=>{t.addedDateTime=new Date(t.timestamp)}),this.dataSource=new b.k(t)},t=>{var e,a;this.ngxService.stop(),console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:d.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,d.a.error)})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}handleViewAction(t){const e=new l.e;e.data={data:t},e.width="100%";const a=this.dialog.open(De,e);this.router.events.subscribe(()=>{a.close()})}handleDeleteAction(t){const e=new l.e;e.data={message:"delete"+t.name+"bill",confrimation:!0};const a=this.dialog.open(K.a,e);a.componentInstance.onEmitStatusChange.subscribe(e=>{this.ngxService.start(),this.deleteBill(t.id),a.close()})}deleteBill(t){this.billService.delete(t).subscribe(t=>{this.ngxService.stop(),this.tableData(),this.responseMessage=null==t?void 0:t.message,this.snackbarService.openSnackBar(this.responseMessage,"success")},t=>{var e,a;this.ngxService.stop(),console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.messages)?null===(a=t.error)||void 0===a?void 0:a.message:d.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,d.a.error)})}downloadReportAction(t){this.ngxService.start();var e={name:t.name,email:t.id,uuid:t.uuid,contactNumber:t.contactNumber,paymentMethod:t.paymentMethod,total:t.total.toString(),productDetails:t.productDetail};this.downloadFile(t.uuid,e)}downloadFile(t,e){this.billService.getPdf(e).subscribe(e=>{Object(Ue.saveAs)(e,t+".pdf"),this.ngxService.stop()})}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(gt),m.Pb(w.b),m.Pb(l.b),m.Pb(h.a),m.Pb(B.a),m.Pb(r.e))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-view-bill"]],decls:37,vars:4,consts:[["appearance","standard"],["matInput","",3,"keyup"],["input",""],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","contactNumber"],["matColumnDef","paymentMethod"],["matColumnDef","total"],["matColumnDef","deliveryAddress"],["matColumnDef","view"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-icon-button","","color","primary","matTooltip","View",3,"click"],["mat-icon-button","","color","primary","matTooltip","Download Bill",3,"click"],["mat-icon-button","","color","primary","matTooltip","Delete Bill",3,"click",4,"ngIf"],["mat-icon-button","","color","primary","matTooltip","Delete Bill",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(m.Vb(0,"mat-card"),m.Vb(1,"b"),m.Vb(2,"span"),m.Dc(3,"View Bill"),m.Ub(),m.Ub(),m.Ub(),m.Qb(4,"hr"),m.Vb(5,"mat-card"),m.Vb(6,"mat-form-field",0),m.Vb(7,"mat-label"),m.Dc(8,"Filter"),m.Ub(),m.Vb(9,"input",1,2),m.dc("keyup",function(t){return e.applyFilter(t)}),m.Ub(),m.Ub(),m.Ub(),m.Qb(11,"hr"),m.Vb(12,"div",3),m.Vb(13,"table",4),m.Tb(14,5),m.Bc(15,ye,2,0,"th",6),m.Bc(16,Ve,2,1,"td",7),m.Sb(),m.Tb(17,8),m.Bc(18,Se,2,0,"th",6),m.Bc(19,Ce,2,1,"td",7),m.Sb(),m.Tb(20,9),m.Bc(21,we,2,0,"th",6),m.Bc(22,Be,2,1,"td",7),m.Sb(),m.Tb(23,10),m.Bc(24,ke,2,0,"th",6),m.Bc(25,Fe,2,1,"td",7),m.Sb(),m.Tb(26,11),m.Bc(27,Ie,2,0,"th",6),m.Bc(28,Me,2,1,"td",7),m.Sb(),m.Tb(29,12),m.Bc(30,Re,2,0,"th",6),m.Bc(31,Pe,2,1,"td",7),m.Sb(),m.Tb(32,13),m.Bc(33,xe,2,0,"th",6),m.Bc(34,Oe,8,1,"td",14),m.Sb(),m.Bc(35,Ae,1,0,"tr",15),m.Bc(36,Ee,1,0,"tr",16),m.Ub(),m.Ub()),2&t&&(m.Db(13),m.nc("dataSource",e.dataSource),m.Db(22),m.nc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),m.Db(1),m.nc("matRowDefColumns",e.displayedColumns))},directives:[k.a,U.c,U.g,y.b,b.j,b.c,b.e,b.b,b.g,b.i,b.d,b.a,v.a,F.a,D.a,n.l,b.f,b.h],styles:[".float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}"]}),t})();var qe=a("qfBg");function _e(t,e){1&t&&(m.Vb(0,"th",14),m.Dc(1,"Name"),m.Ub())}function Qe(t,e){if(1&t&&(m.Vb(0,"td",15),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.name)}}function $e(t,e){1&t&&(m.Vb(0,"th",14),m.Dc(1,"Email"),m.Ub())}function Le(t,e){if(1&t&&(m.Vb(0,"td",15),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.email)}}function He(t,e){1&t&&(m.Vb(0,"th",14),m.Dc(1,"Contact Number"),m.Ub())}function Ge(t,e){if(1&t&&(m.Vb(0,"td",15),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.contactNumber)}}function je(t,e){1&t&&(m.Vb(0,"th",14),m.Dc(1,"Action "),m.Ub())}function Je(t,e){if(1&t){const t=m.Wb();m.Vb(0,"td",16),m.Vb(1,"mat-slide-toggle",17),m.dc("change",function(a){m.vc(t);const r=e.$implicit;return m.hc().onChange(a.checked,r.id)}),m.Ub(),m.Ub()}if(2&t){const t=e.$implicit;m.Db(1),m.nc("checked",t.status)}}function We(t,e){1&t&&m.Qb(0,"tr",18)}function ze(t,e){1&t&&m.Qb(0,"tr",19)}let Xe=(()=>{class t{constructor(t,e,a){this.ngxService=t,this.userService=e,this.snackbarService=a,this.displayedColumns=["name","email","contactNumber","status"]}ngOnInit(){this.ngxService.start(),this.tableData()}tableData(){this.userService.getUsers().subscribe(t=>{this.ngxService.stop(),this.dataSource=new b.k(t)},t=>{var e,a;this.ngxService.stop(),console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:d.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,d.a.error)})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}onChange(t,e){this.ngxService.start();var a={status:t.toString(),id:e};this.userService.update(a).subscribe(t=>{this.ngxService.stop(),this.responseMessage=null==t?void 0:t.message,this.snackbarService.openSnackBar(this.responseMessage,"success")},t=>{var e,a;this.ngxService.stop(),console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:d.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,d.a.error)})}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(w.b),m.Pb(qe.a),m.Pb(h.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-manage-user"]],decls:28,vars:4,consts:[["appearance","standard"],["matInput","",3,"keyup"],["input",""],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","contactNumber"],["matColumnDef","status"],["mat-cell","","class","action_link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action_link"],["matTooltip","Activate or Deactivate User",3,"checked","change"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(m.Vb(0,"mat-card"),m.Vb(1,"b"),m.Vb(2,"span"),m.Dc(3,"Manage User"),m.Ub(),m.Ub(),m.Ub(),m.Qb(4,"hr"),m.Vb(5,"mat-card"),m.Vb(6,"mat-form-field",0),m.Vb(7,"mat-label"),m.Dc(8,"Filter"),m.Ub(),m.Vb(9,"input",1,2),m.dc("keyup",function(t){return e.applyFilter(t)}),m.Ub(),m.Ub(),m.Ub(),m.Qb(11,"hr"),m.Vb(12,"div",3),m.Vb(13,"table",4),m.Tb(14,5),m.Bc(15,_e,2,0,"th",6),m.Bc(16,Qe,2,1,"td",7),m.Sb(),m.Tb(17,8),m.Bc(18,$e,2,0,"th",6),m.Bc(19,Le,2,1,"td",7),m.Sb(),m.Tb(20,9),m.Bc(21,He,2,0,"th",6),m.Bc(22,Ge,2,1,"td",7),m.Sb(),m.Tb(23,10),m.Bc(24,je,2,0,"th",6),m.Bc(25,Je,2,1,"td",11),m.Sb(),m.Bc(26,We,1,0,"tr",12),m.Bc(27,ze,1,0,"tr",13),m.Ub(),m.Ub()),2&t&&(m.Db(13),m.nc("dataSource",e.dataSource),m.Db(13),m.nc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),m.Db(1),m.nc("matRowDefColumns",e.displayedColumns))},directives:[k.a,U.c,U.g,y.b,b.j,b.c,b.e,b.b,b.g,b.i,b.d,b.a,Y.a,F.a,b.f,b.h],styles:[".float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}"]}),t})();var Ze=a("dNgK");function Ke(t,e){1&t&&(m.Vb(0,"th",9),m.Dc(1,"Top Customer's List"),m.Ub())}function Ye(t,e){if(1&t&&(m.Vb(0,"td",10),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.email)}}function ta(t,e){1&t&&(m.Vb(0,"th",9),m.Dc(1,"Phone Number"),m.Ub())}function ea(t,e){if(1&t&&(m.Vb(0,"td",10),m.Dc(1),m.Ub()),2&t){const t=m.hc();m.Db(1),m.Ec(null==t.data?null:t.data.contactNumber)}}function aa(t,e){1&t&&(m.Vb(0,"th",9),m.Dc(1,"Total Amount Spent"),m.Ub())}function ra(t,e){if(1&t&&(m.Vb(0,"td",10),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.total)}}function oa(t,e){1&t&&m.Qb(0,"tr",11)}function na(t,e){1&t&&m.Qb(0,"tr",12)}let ia=(()=>{class t{constructor(t,e,a,r){this.billService=t,this.snackBar=e,this.router=a,this.ngxService=r,this.displayedColumns=["email","contactNumber","total"],this.topCustomers=[],this.isLoading=!1,this.currentDateAndTime=""}ngOnInit(){this.generateTopCustomersAnalysis(),setInterval(()=>{this.updateCurrentDateAndTime()},1e3)}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}generateTopCustomersAnalysis(){this.isLoading=!0,this.ngxService.start(),this.billService.getBills().subscribe(t=>{const e=new Map;t.forEach(t=>{const a=t.email,r=t.total;if(e.has(a)){const t=e.get(a)||0;e.set(a,t+r)}else e.set(a,r)});const a=Array.from(e).sort((t,e)=>e[1]-t[1]);this.topCustomers=a.map(([t,e])=>({email:t,total:e})),this.isLoading=!1,this.ngxService.stop()},t=>{console.error(t),this.isLoading=!1,this.snackBar.open("Error fetching top customers","Close",{duration:3e3}),this.ngxService.stop()})}updateCurrentDateAndTime(){const t=new Date;this.currentDateAndTime=t.toLocaleString()}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(gt),m.Pb(Ze.a),m.Pb(r.e),m.Pb(w.b))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-manage-analysis"]],decls:25,vars:4,consts:[[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","email"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","contactNumber"],["matColumnDef","total"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(m.Vb(0,"mat-card"),m.Vb(1,"b"),m.Vb(2,"span"),m.Dc(3,"Top Customers :"),m.Ub(),m.Ub(),m.Ub(),m.Qb(4,"hr"),m.Qb(5,"hr"),m.Vb(6,"div"),m.Vb(7,"b"),m.Vb(8,"span"),m.Dc(9,"Current Date and Time: "),m.Ub(),m.Ub(),m.Vb(10,"span"),m.Dc(11),m.Ub(),m.Ub(),m.Vb(12,"div",0),m.Vb(13,"table",1),m.Tb(14,2),m.Bc(15,Ke,2,0,"th",3),m.Bc(16,Ye,2,1,"td",4),m.Sb(),m.Tb(17,5),m.Bc(18,ta,2,0,"th",3),m.Bc(19,ea,2,1,"td",4),m.Sb(),m.Tb(20,6),m.Bc(21,aa,2,0,"th",3),m.Bc(22,ra,2,1,"td",4),m.Sb(),m.Bc(23,oa,1,0,"tr",7),m.Bc(24,na,1,0,"tr",8),m.Ub(),m.Ub()),2&t&&(m.Db(11),m.Ec(e.currentDateAndTime),m.Db(2),m.nc("dataSource",e.topCustomers),m.Db(10),m.nc("matHeaderRowDef",e.displayedColumns),m.Db(1),m.nc("matRowDefColumns",e.displayedColumns))},directives:[k.a,b.j,b.c,b.e,b.b,b.g,b.i,b.d,b.a,b.f,b.h],styles:[".float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}"]}),t})();function ca(t,e){1&t&&(m.Vb(0,"th",9),m.Dc(1," Name"),m.Ub())}function sa(t,e){if(1&t&&(m.Vb(0,"td",10),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.name)}}function la(t,e){1&t&&(m.Vb(0,"th",9),m.Dc(1," Email"),m.Ub())}function ba(t,e){if(1&t&&(m.Vb(0,"td",10),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.email)}}function da(t,e){1&t&&(m.Vb(0,"th",9),m.Dc(1,"Purchasing"),m.Ub())}function ma(t,e){if(1&t&&(m.Vb(0,"td",10),m.Dc(1),m.ic(2,"currency"),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(m.kc(2,1,t.total,"USD","symbol","1.2-2"))}}function ua(t,e){1&t&&m.Qb(0,"tr",11)}function pa(t,e){1&t&&m.Qb(0,"tr",12)}let ha=(()=>{class t{constructor(t,e,a,r){this.billService=t,this.snackBar=e,this.router=a,this.ngxService=r,this.displayedColumns=["name","email","total"],this.topCustomers=[],this.isLoading=!1,this.currentDateAndTime="",this.lastResetMonth=-1}ngOnInit(){this.getAllSales(),this.calculateTotalRevenue(),this.updateCurrentDateAndTime(),setInterval(()=>{this.updateCurrentDateAndTime(),this.checkForMonthReset()},1e3)}getAllSales(){this.isLoading=!0,this.billService.getBills().subscribe(t=>{this.dataSource=t,this.soldProductsDetails=this.extractSoldProductsDetails(t),this.isLoading=!1},t=>{console.error(t),this.isLoading=!1,this.snackBar.open("Error fetching sales data","Close",{duration:3e3})})}calculateTotalRevenue(){this.billService.getBills().subscribe(t=>{this.totalRevenue=t.reduce((t,e)=>t+e.total,0)},t=>{console.error(t),this.snackBar.open("Error calculating total revenue","Close",{duration:3e3})})}extractSoldProductsDetails(t){const e=[];return t.forEach(t=>{JSON.parse(t.productDetails).forEach(t=>{const a=e.findIndex(e=>e.id===t.id);-1!==a?(e[a].quantity+=t.quantity,e[a].total+=t.total):e.push({id:t.id,name:t.name,category:t.category,quantity:t.quantity,total:t.total})})}),e}updateCurrentDateAndTime(){const t=new Date;this.currentDateAndTime=t.toLocaleString()}checkForMonthReset(){const t=(new Date).getMonth();-1===this.lastResetMonth?this.lastResetMonth=t:t!==this.lastResetMonth&&(this.totalRevenue=0,this.lastResetMonth=t)}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(gt),m.Pb(Ze.a),m.Pb(r.e),m.Pb(w.b))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-manage-anaylsis2"]],decls:29,vars:10,consts:[[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","total"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(m.Vb(0,"mat-card"),m.Vb(1,"b"),m.Vb(2,"span"),m.Dc(3,"Total Revenue This Month:"),m.Ub(),m.Ub(),m.Vb(4,"span"),m.Dc(5),m.ic(6,"currency"),m.Ub(),m.Ub(),m.Qb(7,"hr"),m.Vb(8,"div"),m.Vb(9,"b"),m.Vb(10,"span"),m.Dc(11,"Current Date and Time:"),m.Ub(),m.Ub(),m.Vb(12,"span"),m.Dc(13),m.Ub(),m.Ub(),m.Qb(14,"hr"),m.Vb(15,"div",0),m.Vb(16,"table",1),m.Tb(17,2),m.Bc(18,ca,2,0,"th",3),m.Bc(19,sa,2,1,"td",4),m.Sb(),m.Tb(20,5),m.Bc(21,la,2,0,"th",3),m.Bc(22,ba,2,1,"td",4),m.Sb(),m.Tb(23,6),m.Bc(24,da,2,0,"th",3),m.Bc(25,ma,3,6,"td",4),m.Sb(),m.Bc(26,ua,1,0,"tr",7),m.Bc(27,pa,1,0,"tr",8),m.Ub(),m.Ub(),m.Qb(28,"hr")),2&t&&(m.Db(5),m.Ec(m.kc(6,5,e.totalRevenue,"USD","symbol","1.2-2")),m.Db(8),m.Ec(e.currentDateAndTime),m.Db(3),m.nc("dataSource",e.dataSource),m.Db(10),m.nc("matHeaderRowDef",e.displayedColumns),m.Db(1),m.nc("matRowDefColumns",e.displayedColumns))},directives:[k.a,b.j,b.c,b.e,b.b,b.g,b.i,b.d,b.a,b.f,b.h],pipes:[n.d],styles:[".float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}"]}),t})(),fa=(()=>{class t{constructor(t){this.httpClient=t,this.url=u.a.apiUrl}createReservation(t){return this.httpClient.post(this.url+"/reservations/create",t,{headers:(new o.e).set("Content-Type","application/json")})}getReservation(){return this.httpClient.get(this.url+"/reservations/getAll")}updateReservation(t){return this.httpClient.post(this.url+"/reservations/update/"+t,{headers:(new o.e).set("Content-Type","application/json")})}deleteReservation(t){return this.httpClient.post(this.url+"/reservations/delete/"+t,{headers:(new o.e).set("Content-Type","application/json")})}checkTableAvailability(t){return this.httpClient.get(this.url+"/reservations/tableAvailable")}}return t.\u0275fac=function(e){return new(e||t)(m.Zb(o.b))},t.\u0275prov=m.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ga(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Mandatory"),m.Ub())}function va(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Inavalid"),m.Ub())}function Da(t,e){if(1&t&&(m.Vb(0,"mat-error"),m.Bc(1,ga,2,0,"span",10),m.Bc(2,va,2,0,"span",10),m.Ub()),2&t){const t=m.hc();m.Db(1),m.nc("ngIf",t.reservationForm.controls.date.errors.required),m.Db(1),m.nc("ngIf",t.reservationForm.controls.date.errors.pattern)}}function Ua(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Mandatory"),m.Ub())}function ya(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Inavalid"),m.Ub())}function Va(t,e){if(1&t&&(m.Vb(0,"mat-error"),m.Bc(1,Ua,2,0,"span",10),m.Bc(2,ya,2,0,"span",10),m.Ub()),2&t){const t=m.hc();m.Db(1),m.nc("ngIf",t.reservationForm.controls.time.errors.required),m.Db(1),m.nc("ngIf",t.reservationForm.controls.time.errors.pattern)}}function Sa(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Mandatory"),m.Ub())}function Ca(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Inavalid"),m.Ub())}function wa(t,e){if(1&t&&(m.Vb(0,"mat-error"),m.Bc(1,Sa,2,0,"span",10),m.Bc(2,Ca,2,0,"span",10),m.Ub()),2&t){const t=m.hc();m.Db(1),m.nc("ngIf",t.reservationForm.controls.tableNumber.errors.required),m.Db(1),m.nc("ngIf",t.reservationForm.controls.tableNumber.errors.pattern)}}function Ba(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Mandatory"),m.Ub())}function ka(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Inavalid"),m.Ub())}function Fa(t,e){if(1&t&&(m.Vb(0,"mat-error"),m.Bc(1,Ba,2,0,"span",10),m.Bc(2,ka,2,0,"span",10),m.Ub()),2&t){const t=m.hc();m.Db(1),m.nc("ngIf",t.reservationForm.controls.numberOfGuests.errors.required),m.Db(1),m.nc("ngIf",t.reservationForm.controls.numberOfGuests.errors.pattern)}}function Ia(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Mandatory"),m.Ub())}function Ma(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Inavalid"),m.Ub())}function Ra(t,e){if(1&t&&(m.Vb(0,"mat-error"),m.Bc(1,Ia,2,0,"span",10),m.Bc(2,Ma,2,0,"span",10),m.Ub()),2&t){const t=m.hc();m.Db(1),m.nc("ngIf",t.reservationForm.controls.customerName.errors.required),m.Db(1),m.nc("ngIf",t.reservationForm.controls.customerName.errors.pattern)}}function Pa(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Mandatory"),m.Ub())}function xa(t,e){1&t&&(m.Vb(0,"span"),m.Dc(1,"This Field Is Inavalid"),m.Ub())}function Ta(t,e){if(1&t&&(m.Vb(0,"mat-error"),m.Bc(1,Pa,2,0,"span",10),m.Bc(2,xa,2,0,"span",10),m.Ub()),2&t){const t=m.hc();m.Db(1),m.nc("ngIf",t.reservationForm.controls.customerContact.errors.required),m.Db(1),m.nc("ngIf",t.reservationForm.controls.customerContact.errors.pattern)}}let Oa=(()=>{class t{constructor(t,e,a,r,o){this.dialogData=t,this.formBuilder=e,this.reservationService=a,this.dialogRef=r,this.snackbarService=o,this.onAddReservation=new m.o,this.reservationForm=c.h,this.dialogAction="Add",this.action="Add",this.reservations=[]}ngOnInit(){this.reservationForm=this.formBuilder.group({date:[null,[c.s.required]],time:[null,[c.s.required]],tableNumber:[null,[c.s.required]],numberOfGuests:[null,[c.s.required]],customerName:[null,[c.s.required]],customerContact:[null,[c.s.required,c.s.pattern(d.a.customerContactRegex)]]}),"Edit"===this.dialogData.action&&(this.dialogAction="Edit",this.action="Update",this.reservationForm.patchValue(this.dialogData.data)),this.getReservation()}getReservation(){this.reservationService.getReservation().subscribe(t=>{this.reservations=t},t=>{var e,a;console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.messages)?null===(a=t.error)||void 0===a?void 0:a.message:d.a.reservationError,this.snackbarService.openSnackBar(this.responseMessage,d.a.error)})}handleSubmit(){this.createReservation()}createReservation(){var t=this.reservationForm.value;this.reservationService.createReservation({customerName:t.customerName,customerContact:t.customerContact,date:t.date,time:t.time,numberOfGuests:t.numberOfGuests,status:t.status,tableNumber:t.tableNumber}).subscribe(t=>{this.dialogRef.close(),this.onAddReservation.emit(),this.responseMessage=t.message,this.snackbarService.openSnackBar(this.responseMessage,"success")},t=>{var e,a;console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:d.a.reservationError,this.snackbarService.openSnackBar(this.responseMessage,d.a.error)})}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(l.a),m.Pb(c.e),m.Pb(fa),m.Pb(l.h),m.Pb(h.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-reservation"]],decls:56,vars:10,consts:[["color","primary"],["fxLayout","row"],[1,"spacer"],["mat-icon-button","","mat-dialog-close","",1,"mat-dialog-class"],[1,"mat-typography"],[3,"formGroup"],["fxFlex","","fxLayout","column"],["fxLayout","row wrap"],["appearance","standard","fxFlex",""],["matInput","","formControlName","date","required",""],[4,"ngIf"],["matInput","","formControlName","time","required",""],["matInput","","formControlName","tableNumber","required",""],["matInput","","formControlName","numberOfGuests","required",""],["matInput","","formControlName","customerName","required",""],["matInput","","formControlName","customerContact","required",""],["align","end"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],["mat-raised-button","","color","warn","mat-dialog-close",""]],template:function(t,e){1&t&&(m.Vb(0,"mat-toolbar",0),m.Vb(1,"mat-toolbar-row",1),m.Vb(2,"span"),m.Dc(3),m.Ub(),m.Qb(4,"span",2),m.Vb(5,"button",3),m.Vb(6,"mat-icon"),m.Dc(7,"close"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(8,"mat-dialog-content",4),m.Vb(9,"form",5),m.Vb(10,"div",6),m.Vb(11,"div",7),m.Vb(12,"mat-form-field",8),m.Vb(13,"mat-label"),m.Dc(14,"Date"),m.Ub(),m.Qb(15,"input",9),m.Bc(16,Da,3,2,"mat-error",10),m.Ub(),m.Ub(),m.Vb(17,"div",7),m.Vb(18,"mat-form-field",8),m.Vb(19,"mat-label"),m.Dc(20,"Time "),m.Ub(),m.Qb(21,"input",11),m.Bc(22,Va,3,2,"mat-error",10),m.Ub(),m.Ub(),m.Vb(23,"div",7),m.Vb(24,"mat-form-field",8),m.Vb(25,"mat-label"),m.Dc(26,"Table Number "),m.Ub(),m.Qb(27,"input",12),m.Bc(28,wa,3,2,"mat-error",10),m.Ub(),m.Ub(),m.Vb(29,"div",7),m.Vb(30,"mat-form-field",8),m.Vb(31,"mat-label"),m.Dc(32,"Number Of Guests "),m.Ub(),m.Qb(33,"input",13),m.Bc(34,Fa,3,2,"mat-error",10),m.Ub(),m.Ub(),m.Vb(35,"div",7),m.Vb(36,"mat-form-field",8),m.Vb(37,"mat-label"),m.Dc(38,"Customer Name"),m.Ub(),m.Qb(39,"input",14),m.Bc(40,Ra,3,2,"mat-error",10),m.Ub(),m.Ub(),m.Vb(41,"div",7),m.Vb(42,"mat-form-field",8),m.Vb(43,"mat-label"),m.Dc(44,"Customer Contact"),m.Ub(),m.Qb(45,"input",15),m.Bc(46,Ta,3,2,"mat-error",10),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(47,"mat-dialog-actions",16),m.Vb(48,"button",17),m.dc("click",function(){return e.handleSubmit()}),m.Vb(49,"mat-icon"),m.Dc(50,"save"),m.Ub(),m.Dc(51),m.Ub(),m.Vb(52,"button",18),m.Vb(53,"mat-icon"),m.Dc(54,"cancel"),m.Ub(),m.Dc(55,"Close"),m.Ub(),m.Ub()),2&t&&(m.Db(3),m.Fc("",e.dialogData.action," Reservation"),m.Db(6),m.nc("formGroup",e.reservationForm),m.Db(7),m.nc("ngIf",e.reservationForm.controls.date.touched&&e.reservationForm.controls.date.invalid),m.Db(6),m.nc("ngIf",e.reservationForm.controls.time.touched&&e.reservationForm.controls.time.invalid),m.Db(6),m.nc("ngIf",e.reservationForm.controls.tableNumber.touched&&e.reservationForm.controls.tableNumber.invalid),m.Db(6),m.nc("ngIf",e.reservationForm.controls.numberOfGuests.touched&&e.reservationForm.controls.numberOfGuests.invalid),m.Db(6),m.nc("ngIf",e.reservationForm.controls.customerName.touched&&e.reservationForm.controls.customerName.invalid),m.Db(6),m.nc("ngIf",e.reservationForm.controls.customerContact.touched&&e.reservationForm.controls.customerContact.invalid),m.Db(2),m.nc("disabled",!(e.reservationForm.valid&&e.reservationForm.dirty)),m.Db(3),m.Fc(" ",e.action," "))},directives:[f.a,f.c,g.b,v.a,l.d,D.a,l.f,c.t,c.o,c.i,g.a,U.c,U.g,y.b,c.c,c.n,c.g,c.r,n.l,l.c,U.b],styles:[".mat-toolbar[_ngcontent-%COMP%]{margin:-24px -24px 10px;width:auto}mat-form-field[_ngcontent-%COMP%]{padding:5px}"]}),t})();function Aa(t,e){if(1&t){const t=m.Wb();m.Vb(0,"button",19),m.dc("click",function(){return m.vc(t),m.hc().handleAddAction()}),m.Vb(1,"mat-icon"),m.Dc(2,"add_circle"),m.Ub(),m.Dc(3,"Add Reservation "),m.Ub()}}function Ea(t,e){1&t&&(m.Vb(0,"th",20),m.Dc(1,"Customer Name"),m.Ub())}function Na(t,e){if(1&t&&(m.Vb(0,"td",21),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.customerName)}}function qa(t,e){1&t&&(m.Vb(0,"th",20),m.Dc(1,"Customer Contact"),m.Ub())}function _a(t,e){if(1&t&&(m.Vb(0,"td",21),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.customerContact)}}function Qa(t,e){1&t&&(m.Vb(0,"th",20),m.Dc(1,"Date"),m.Ub())}function $a(t,e){if(1&t&&(m.Vb(0,"td",21),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.date)}}function La(t,e){1&t&&(m.Vb(0,"th",20),m.Dc(1,"Number Of Guests"),m.Ub())}function Ha(t,e){if(1&t&&(m.Vb(0,"td",21),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.numberOfGuests)}}function Ga(t,e){1&t&&(m.Vb(0,"th",20),m.Dc(1,"Status"),m.Ub())}function ja(t,e){if(1&t&&(m.Vb(0,"td",21),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.status)}}function Ja(t,e){1&t&&(m.Vb(0,"th",20),m.Dc(1,"Table Number"),m.Ub())}function Wa(t,e){if(1&t&&(m.Vb(0,"td",21),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.tableNumber)}}function za(t,e){1&t&&(m.Vb(0,"th",20),m.Dc(1,"Time"),m.Ub())}function Xa(t,e){if(1&t&&(m.Vb(0,"td",21),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.time)}}function Za(t,e){1&t&&(m.Vb(0,"th",20),m.Dc(1,"Action"),m.Ub())}function Ka(t,e){if(1&t){const t=m.Wb();m.Vb(0,"button",24),m.dc("click",function(){m.vc(t);const e=m.hc().$implicit;return m.hc().handleDeleteAction(e)}),m.Vb(1,"mat-icon"),m.Dc(2,"delete"),m.Ub(),m.Ub()}}function Ya(t,e){if(1&t&&(m.Vb(0,"td",22),m.Bc(1,Ka,3,0,"button",23),m.Ub()),2&t){const t=m.hc();m.Db(1),m.nc("ngIf","Employee"!==t.userRole&&"user"!==t.userRole)}}function tr(t,e){1&t&&m.Qb(0,"tr",25)}function er(t,e){1&t&&m.Qb(0,"tr",26)}let ar=(()=>{class t{constructor(t,e,a,r,o,n){this.reservationService=t,this.snackbarService=e,this.dialog=a,this.ngxService=r,this.routeGuardService=o,this.router=n,this.displayedColumns=["customerContact","customerName","date","numberOfGuests","status","tableNumber","time","edit"],this.reservations=[],this.newReservation={}}ngOnInit(){this.ngxService.start(),this.userRole=this.routeGuardService.getUserRole(),this.tableData()}tableData(){this.reservationService.getReservation().subscribe(t=>{this.ngxService.stop(),this.dataSource=new b.k(t)},t=>{var e,a,r;this.ngxService.stop(),console.log(null===(e=t.error)||void 0===e?void 0:e.message),this.responseMessage=(null===(a=t.error)||void 0===a?void 0:a.message)?null===(r=t.error)||void 0===r?void 0:r.message:d.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,d.a.error)})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}handleAddAction(){const t=new l.e;t.data={action:"Add"},t.width="850px";const e=this.dialog.open(Oa,t);this.router.events.subscribe(()=>{e.close()}),e.componentInstance.onAddReservation.subscribe(t=>{this.tableData()})}handleDeleteAction(t){const e=new l.e;e.data={message:"delete"+t.name+"reservations",confirmation:!0};const a=this.dialog.open(K.a,e);a.componentInstance.onEmitStatusChange.subscribe(e=>{this.ngxService.start(),this.deleteReservation(t.id),a.close()})}deleteReservation(t){this.reservationService.deleteReservation(t).subscribe(t=>{this.ngxService.stop(),this.tableData(),this.responseMessage=null==t?void 0:t.message,this.snackbarService.openSnackBar(this.responseMessage,"success")},t=>{var e,a;this.ngxService.stop(),console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:d.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,d.a.error)})}updateReservation(t,e){this.ngxService.start();var a={status:t.toString(),id:e};this.reservationService.updateReservation(a).subscribe(t=>{this.ngxService.stop(),this.responseMessage=null==t?void 0:t.message,this.snackbarService.openSnackBar(this.responseMessage,"success")},t=>{var e,a;this.ngxService.stop(),console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:d.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,d.a.error)})}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(fa),m.Pb(h.a),m.Pb(l.b),m.Pb(w.b),m.Pb(B.a),m.Pb(r.e))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-reservation-component"]],decls:41,vars:5,consts:[["mat-flat-button","","color","primary","class","float-right",3,"click",4,"ngIf"],["appearence","standard"],["matInput","",3,"keyup"],["input",""],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","customerName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","customerContact"],["matColumnDef","date"],["matColumnDef","numberOfGuests"],["matColumnDef","status"],["matColumnDef","tableNumber"],["matColumnDef","time"],["matColumnDef","edit"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefStucky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-flat-button","","color","primary",1,"float-right",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-icon-button","","color","primary","matTooltip","Delete",3,"click",4,"ngIf"],["mat-icon-button","","color","primary","matTooltip","Delete",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(m.Vb(0,"mat-card"),m.Vb(1,"b"),m.Vb(2,"span"),m.Dc(3,"Manage Reservation"),m.Ub(),m.Ub(),m.Bc(4,Aa,4,0,"button",0),m.Ub(),m.Qb(5,"hr"),m.Vb(6,"mat-card"),m.Vb(7,"mat-form-field",1),m.Vb(8,"mat-label"),m.Dc(9,"Filter"),m.Ub(),m.Vb(10,"input",2,3),m.dc("keyup",function(t){return e.applyFilter(t)}),m.Ub(),m.Ub(),m.Ub(),m.Qb(12,"hr"),m.Vb(13,"div",4),m.Vb(14,"table",5),m.Tb(15,6),m.Bc(16,Ea,2,0,"th",7),m.Bc(17,Na,2,1,"td",8),m.Sb(),m.Tb(18,9),m.Bc(19,qa,2,0,"th",7),m.Bc(20,_a,2,1,"td",8),m.Sb(),m.Tb(21,10),m.Bc(22,Qa,2,0,"th",7),m.Bc(23,$a,2,1,"td",8),m.Sb(),m.Tb(24,11),m.Bc(25,La,2,0,"th",7),m.Bc(26,Ha,2,1,"td",8),m.Sb(),m.Tb(27,12),m.Bc(28,Ga,2,0,"th",7),m.Bc(29,ja,2,1,"td",8),m.Sb(),m.Tb(30,13),m.Bc(31,Ja,2,0,"th",7),m.Bc(32,Wa,2,1,"td",8),m.Sb(),m.Tb(33,14),m.Bc(34,za,2,0,"th",7),m.Bc(35,Xa,2,1,"td",8),m.Sb(),m.Tb(36,15),m.Bc(37,Za,2,0,"th",7),m.Bc(38,Ya,2,1,"td",16),m.Sb(),m.Bc(39,tr,1,0,"tr",17),m.Bc(40,er,1,0,"tr",18),m.Ub(),m.Ub()),2&t&&(m.Db(4),m.nc("ngIf","Employee"!==e.userRole),m.Db(10),m.nc("dataSource",e.dataSource),m.Db(25),m.nc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefStucky",!0),m.Db(1),m.nc("matRowDefColumns",e.displayedColumns))},directives:[k.a,n.l,U.c,U.g,y.b,b.j,b.c,b.e,b.b,b.g,b.i,v.a,D.a,b.d,b.a,F.a,b.f,b.h],styles:[".float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}"]}),t})(),rr=(()=>{class t{constructor(t){this.httpClient=t,this.url=u.a.apiUrl}createEmployee(t){return this.httpClient.post(this.url+"/employee/create",t,{headers:(new o.e).set("Content-Type","application/json")})}deleteEmployee(t){return this.httpClient.post(this.url+"/employee/delete/"+t,{headers:(new o.e).set("Content-Type","application/json")})}getAllEmployee(){return this.httpClient.get(this.url+"/employee/getAll")}updateEmployee(t){return this.httpClient.post(this.url+"/employee/updateStatus/"+t,{headers:(new o.e).set("Content-Type","application/json")})}}return t.\u0275fac=function(e){return new(e||t)(m.Zb(o.b))},t.\u0275prov=m.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function or(t,e){1&t&&(m.Vb(0,"th",14),m.Dc(1,"Name"),m.Ub())}function nr(t,e){if(1&t&&(m.Vb(0,"td",15),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.name)}}function ir(t,e){1&t&&(m.Vb(0,"th",14),m.Dc(1,"Email"),m.Ub())}function cr(t,e){if(1&t&&(m.Vb(0,"td",15),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.email)}}function sr(t,e){1&t&&(m.Vb(0,"th",14),m.Dc(1,"Contact Number"),m.Ub())}function lr(t,e){if(1&t&&(m.Vb(0,"td",15),m.Dc(1),m.Ub()),2&t){const t=e.$implicit;m.Db(1),m.Ec(t.contactNumber)}}function br(t,e){1&t&&(m.Vb(0,"th",14),m.Dc(1,"Action "),m.Ub())}function dr(t,e){if(1&t){const t=m.Wb();m.Vb(0,"td",16),m.Vb(1,"button",17),m.dc("click",function(){m.vc(t);const a=e.$implicit;return m.hc().deleteEmployee(a)}),m.Vb(2,"mat-icon"),m.Dc(3,"delete"),m.Ub(),m.Ub(),m.Vb(4,"mat-slide-toggle",18),m.dc("change",function(a){m.vc(t);const r=e.$implicit;return m.hc().updateStatus(a.checked,r.id)}),m.Ub(),m.Ub()}if(2&t){const t=e.$implicit;m.Db(4),m.nc("checked",t.status)}}function mr(t,e){1&t&&m.Qb(0,"tr",19)}function ur(t,e){1&t&&m.Qb(0,"tr",20)}const pr=[{path:"category",component:E,canActivate:[B.a],data:{expexctedRole:["admin"]}},{path:"product",component:ft,canActivate:[B.a],data:{expexctedRole:["admin"]}},{path:"order",component:oe,canActivate:[B.a],data:{expexctedRole:["admin","user"]}},{path:"bill",component:Ne,canActivate:[B.a],data:{expexctedRole:["admin","user"]}},{path:"user",component:Xe,canActivate:[B.a],data:{expexctedRole:["admin"]}},{path:"analysis",component:ia,canActivate:[B.a],data:{expexctedRole:["admin"]}},{path:"analysis2",component:ha,canActivate:[B.a],data:{expexctedRole:["admin"]}},{path:"reservations",component:ar,canActivate:[B.a],data:{expexctedRole:["admin"]}},{path:"employee",component:(()=>{class t{constructor(t,e,a,r){this.ngxService=t,this.employeeService=e,this.snackbarService=a,this.userService=r,this.displayedColumns=["name","email","contactNumber","status"]}ngOnInit(){this.ngxService.start(),this.tableData()}tableData(){this.employeeService.getAllEmployee().subscribe(t=>{this.ngxService.stop(),this.dataSource=new b.k(t)},t=>{var e,a;this.ngxService.stop(),console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:d.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,d.a.error)})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}updateStatus(t,e){this.ngxService.start();var a={status:t.toString(),id:e};this.userService.update(a).subscribe(t=>{this.ngxService.stop(),this.responseMessage=null==t?void 0:t.message,this.snackbarService.openSnackBar(this.responseMessage,"success")},t=>{var e,a;this.ngxService.stop(),console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:d.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,d.a.error)})}deleteEmployee(t){this.ngxService.start(),this.employeeService.deleteEmployee(t).subscribe(t=>{this.ngxService.stop(),this.responseMessage=null==t?void 0:t.message,this.snackbarService.openSnackBar(this.responseMessage,"success"),this.tableData()},t=>{var e,a;this.ngxService.stop(),console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:d.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,d.a.error)})}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(w.b),m.Pb(rr),m.Pb(h.a),m.Pb(qe.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-manage-employee"]],decls:28,vars:4,consts:[["appearance","standard"],["matInput","",3,"keyup"],["input",""],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","contactNumber"],["matColumnDef","status"],["mat-cell","","class","action_link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action_link"],["mat-icon-button","","color","primary","matTooltip","Delete",3,"click"],["matTooltip","Activate or Deactivate Status",3,"checked","change"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(m.Vb(0,"mat-card"),m.Vb(1,"b"),m.Vb(2,"span"),m.Dc(3,"Manage Employee"),m.Ub(),m.Ub(),m.Ub(),m.Qb(4,"hr"),m.Vb(5,"mat-card"),m.Vb(6,"mat-form-field",0),m.Vb(7,"mat-label"),m.Dc(8,"Filter"),m.Ub(),m.Vb(9,"input",1,2),m.dc("keyup",function(t){return e.applyFilter(t)}),m.Ub(),m.Ub(),m.Ub(),m.Qb(11,"hr"),m.Vb(12,"div",3),m.Vb(13,"table",4),m.Tb(14,5),m.Bc(15,or,2,0,"th",6),m.Bc(16,nr,2,1,"td",7),m.Sb(),m.Tb(17,8),m.Bc(18,ir,2,0,"th",6),m.Bc(19,cr,2,1,"td",7),m.Sb(),m.Tb(20,9),m.Bc(21,sr,2,0,"th",6),m.Bc(22,lr,2,1,"td",7),m.Sb(),m.Tb(23,10),m.Bc(24,br,2,0,"th",6),m.Bc(25,dr,5,1,"td",11),m.Sb(),m.Bc(26,mr,1,0,"tr",12),m.Bc(27,ur,1,0,"tr",13),m.Ub(),m.Ub()),2&t&&(m.Db(13),m.nc("dataSource",e.dataSource),m.Db(13),m.nc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),m.Db(1),m.nc("matRowDefColumns",e.displayedColumns))},directives:[k.a,U.c,U.g,y.b,b.j,b.c,b.e,b.b,b.g,b.i,b.d,b.a,v.a,F.a,D.a,Y.a,b.f,b.h],styles:[".float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}"]}),t})(),canActivate:[B.a],data:{expexctedRole:["admin"]}}];var hr=a("qAUw");let fr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.Nb({type:t}),t.\u0275inj=m.Mb({providers:[],imports:[[n.c,r.i.forChild(pr),hr.a,o.c,c.j,c.q,s.a,i.r,b.l]]}),t})()},Iab2:function(t,e,a){var r,o;void 0===(o="function"==typeof(r=function(){"use strict";function e(t,e,a){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){i(r.response,e,a)},r.onerror=function(){console.error("could not download file")},r.send()}function a(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function r(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(a)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,n=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!n?function(t,n,i){var c=o.URL||o.webkitURL,s=document.createElement("a");s.download=n=n||t.name||"download",s.rel="noopener","string"==typeof t?(s.href=t,s.origin===location.origin?r(s):a(s.href)?e(t,n,i):r(s,s.target="_blank")):(s.href=c.createObjectURL(t),setTimeout(function(){c.revokeObjectURL(s.href)},4e4),setTimeout(function(){r(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,o,n){if(o=o||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,n),o);else if(a(t))e(t,o,n);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){r(i)})}}:function(t,a,r,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return e(t,a,r);var c="application/octet-stream"===t.type,s=/constructor/i.test(o.HTMLElement)||o.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||c&&s||n)&&"undefined"!=typeof FileReader){var b=new FileReader;b.onloadend=function(){var t=b.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},b.readAsDataURL(t)}else{var d=o.URL||o.webkitURL,m=d.createObjectURL(t);i?i.location=m:location.href=m,i=null,setTimeout(function(){d.revokeObjectURL(m)},4e4)}});o.saveAs=i.saveAs=i,t.exports=i})?r.apply(e,[]):r)||(t.exports=o)}}]);